<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Methods">Methods</a></li>
</ul>


<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/Condition.html">Condition</a></li>
  <li><a href="../classes/Creature.html">Creature</a></li>
  <li><a href="../classes/Effect.html">Effect</a></li>
  <li><a href="../classes/Faction.html">Faction</a></li>
  <li><a href="../classes/Feature.html">Feature</a></li>
  <li><a href="../classes/Item.html">Item</a></li>
  <li><a href="../classes/Map.html">Map</a></li>
  <li><a href="../classes/Projectile.html">Projectile</a></li>
  <li><a href="../classes/ranged_attack.html">ranged_attack</a></li>
  <li><a href="../classes/Service.html">Service</a></li>
  <li><strong>Spell</strong></li>
  <li><a href="../classes/Store.html">Store</a></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/data.spells_unused.html">data.spells_unused</a></li>
  <li><a href="../modules/gamelogic.html">gamelogic</a></li>
  <li><a href="../modules/input.html">input</a></li>
  <li><a href="../modules/jumper.core.bheap.html">jumper.core.bheap</a></li>
  <li><a href="../modules/jumper.core.heuristics.html">jumper.core.heuristics</a></li>
  <li><a href="../modules/jumper.core.node.html">jumper.core.node</a></li>
  <li><a href="../modules/jumper.core.path.html">jumper.core.path</a></li>
  <li><a href="../modules/jumper.grid.html">jumper.grid</a></li>
  <li><a href="../modules/jumper.pathfinder.html">jumper.pathfinder</a></li>
  <li><a href="../modules/lib.serialize.html">lib.serialize</a></li>
  <li><a href="../modules/mapgen.html">mapgen</a></li>
  <li><a href="../modules/output.html">output</a></li>
  <li><a href="../modules/util.html">util</a></li>
</ul>
<h2>Scripts</h2>
<ul class="nowrap">
  <li><a href="../scripts/jumper.search.astar.html">jumper.search.astar</a></li>
  <li><a href="../scripts/jumper.search.bfs.html">jumper.search.bfs</a></li>
  <li><a href="../scripts/jumper.search.dfs.html">jumper.search.dfs</a></li>
  <li><a href="../scripts/jumper.search.dijkstra.html">jumper.search.dijkstra</a></li>
  <li><a href="../scripts/jumper.search.jps.html">jumper.search.jps</a></li>
</ul>

</div>

<div id="content">

<h1>Class <code>Spell</code></h1>
<p></p>
<p></p>


<h2><a href="#Methods">Methods</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#spell:init">spell:init (data)</a></td>
	<td class="summary">Initiate a spell from its definition.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:get_description">spell:get_description (no_reqtext)</a></td>
	<td class="summary">Get the description of the spell, its cost, and potentially a description of why you can't use it.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:target">spell:target (target, caster, ignoreCooldowns)</a></td>
	<td class="summary">Start targeting a spell (unless it's a self-only spell, in which case it just goes ahead and casts it).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:use">spell:use (target, caster, ignoreCooldowns, ignoreMP)</a></td>
	<td class="summary">Cast a spell.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:can_use">spell:can_use (target, caster, ignoreCooldowns, ignoreMP)</a></td>
	<td class="summary">Checks to see if the spell can be used right now</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:advance_active">spell:advance_active (target, caster, ignoreCooldowns, ignoreMP)</a></td>
	<td class="summary">Placeholder for the advance_active() callback, which is called every turn a spell is active</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:finish">spell:finish (target, caster, ignoreCooldowns, ignoreMP)</a></td>
	<td class="summary">Placeholder for the finish() callback, which is called when a spell is toggled off or stops being channeled.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:decide">spell:decide (target, caster, use_type)</a></td>
	<td class="summary">Placeholder for the decide() callback, which is used by the AI to decide where to target a spell.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:requires">spell:requires (possessor)</a></td>
	<td class="summary">Placeholder for the requires() callback, used to determine if the creature meets the requirements for using the spell</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:target_requires">spell:target_requires (target, caster, target_number)</a></td>
	<td class="summary">Placeholder for the target_requires() callback, used to determine if the attempted target of the spell is acceptable</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:learn_requires">spell:learn_requires (possessor)</a></td>
	<td class="summary">Placeholder for the learn_requires() callback, used to determine if the creature meets the requirements for using the spell</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:get_target_tiles">spell:get_target_tiles (possessor)</a></td>
	<td class="summary">Placeholder for the get_target_tiles() function</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:has_tag">spell:has_tag (tag)</a></td>
	<td class="summary">Checks if a spell has a descriptive tag.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:get_stat">spell:get_stat (stat, possessor)</a></td>
	<td class="summary">Get the stat for a spell</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:get_possible_upgrades">spell:get_possible_upgrades (use_requirements.)</a></td>
	<td class="summary">Gets the possible upgrades for a spell</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:can_upgrade">spell:can_upgrade (upgradeID, level)</a></td>
	<td class="summary">Determines whether you're able to perform an upgrade</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:apply_upgrade">spell:apply_upgrade (upgradeID, force)</a></td>
	<td class="summary">Applies an upgrade to a spell</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#spell:get_potential_targets">spell:get_potential_targets (caster, target_number)</a></td>
	<td class="summary">Gets potential targets of a spell.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Methods"></a>Methods</h2>

    <dl class="function">
    <dt>
    <a name = "spell:init"></a>
    <strong>spell:init (data)</strong>
    </dt>
    <dd>
    Initiate a spell from its definition.  You shouldn't use this function, the game uses it at loadtime to instantiate the spells.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">data</span>
         Table. The table of spell information.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Spell. The spell itself.
    </ol>




</dd>
    <dt>
    <a name = "spell:get_description"></a>
    <strong>spell:get_description (no_reqtext)</strong>
    </dt>
    <dd>
    Get the description of the spell, its cost, and potentially a description of why you can't use it.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">no_reqtext</span>
         Boolean. If true, don't show the text that explains why you can't use the ability.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        String. The description of the spell.
    </ol>




</dd>
    <dt>
    <a name = "spell:target"></a>
    <strong>spell:target (target, caster, ignoreCooldowns)</strong>
    </dt>
    <dd>
    Start targeting a spell (unless it's a self-only spell, in which case it just goes ahead and casts it).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">target</span>
         Entity. The target of the spell.
        </li>
        <li><span class="parameter">caster</span>
         Creature. The caster of the spell.
        </li>
        <li><span class="parameter">ignoreCooldowns</span>
         Boolean. If set to true, this will ignore whether or not the spell is on a cooldown.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Boolean. Whether the spell was successfully able to be cast/targeted or not.
    </ol>




</dd>
    <dt>
    <a name = "spell:use"></a>
    <strong>spell:use (target, caster, ignoreCooldowns, ignoreMP)</strong>
    </dt>
    <dd>
    Cast a spell.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">target</span>
         Entity. The target of the spell.
        </li>
        <li><span class="parameter">caster</span>
         Creature. The caster of the spell.
        </li>
        <li><span class="parameter">ignoreCooldowns</span>
         Boolean. If set to true, this will ignore whether or not the spell is on a cooldown.
        </li>
        <li><span class="parameter">ignoreMP</span>
         Boolean. If set to true, this will make the spell not use MP when cast
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Boolean. Whether the spell was successfully able to be cast or not.
    </ol>




</dd>
    <dt>
    <a name = "spell:can_use"></a>
    <strong>spell:can_use (target, caster, ignoreCooldowns, ignoreMP)</strong>
    </dt>
    <dd>
    Checks to see if the spell can be used right now


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">target</span>
         Entity. The target of the spell.
        </li>
        <li><span class="parameter">caster</span>
         Creature. The caster of the spell.
        </li>
        <li><span class="parameter">ignoreCooldowns</span>
         Boolean. If set to true, this will ignore whether or not the spell is on a cooldown.
        </li>
        <li><span class="parameter">ignoreMP</span>
         Boolean. If set to true, this will make the spell not use MP when cast
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Boolean. Whether the spell can be used right now
    </ol>




</dd>
    <dt>
    <a name = "spell:advance_active"></a>
    <strong>spell:advance_active (target, caster, ignoreCooldowns, ignoreMP)</strong>
    </dt>
    <dd>
    Placeholder for the advance_active() callback, which is called every turn a spell is active


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">target</span>
         Entity. The target of the spell.
        </li>
        <li><span class="parameter">caster</span>
         Creature. The caster of the spell.
        </li>
        <li><span class="parameter">ignoreCooldowns</span>
         Boolean. If set to true, this will ignore whether or not the spell is on a cooldown.
        </li>
        <li><span class="parameter">ignoreMP</span>
         Boolean. If set to true, this will make the spell not use MP when cast
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Boolean. False if the spell ends, true otherwise
    </ol>




</dd>
    <dt>
    <a name = "spell:finish"></a>
    <strong>spell:finish (target, caster, ignoreCooldowns, ignoreMP)</strong>
    </dt>
    <dd>
    Placeholder for the finish() callback, which is called when a spell is toggled off or stops being channeled.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">target</span>
         Entity. The target of the spell.
        </li>
        <li><span class="parameter">caster</span>
         Creature. The caster of the spell.
        </li>
        <li><span class="parameter">ignoreCooldowns</span>
         Boolean. If set to true, this will ignore whether or not the spell is on a cooldown.
        </li>
        <li><span class="parameter">ignoreMP</span>
         Boolean. If set to true, this will make the spell not use MP when cast
        </li>
    </ul>





</dd>
    <dt>
    <a name = "spell:decide"></a>
    <strong>spell:decide (target, caster, use_type)</strong>
    </dt>
    <dd>
    Placeholder for the decide() callback, which is used by the AI to decide where to target a spell.  Defaults to the already-selected target.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">target</span>
         Entity. The original target of the spell.
        </li>
        <li><span class="parameter">caster</span>
         Creature. The creature casting the spell.
        </li>
        <li><span class="parameter">use_type</span>
         String. The way in which this spell is being used. Either aggressive, defensive, fleeing or friendly.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Entity. The new target of the spell.
    </ol>




</dd>
    <dt>
    <a name = "spell:requires"></a>
    <strong>spell:requires (possessor)</strong>
    </dt>
    <dd>
    Placeholder for the requires() callback, used to determine if the creature meets the requirements for using the spell


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">possessor</span>
         Creature. The creature who's trying to use the spell.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true
    </ol>




</dd>
    <dt>
    <a name = "spell:target_requires"></a>
    <strong>spell:target_requires (target, caster, target_number)</strong>
    </dt>
    <dd>
    Placeholder for the target_requires() callback, used to determine if the attempted target of the spell is acceptable


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">target</span>
         Entity. The attempted target of the spell.
        </li>
        <li><span class="parameter">caster</span>
         Creature. The creature who's trying to use the spell.
        </li>
        <li><span class="parameter">target_number</span>
         Number. Which target this is
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true
    </ol>




</dd>
    <dt>
    <a name = "spell:learn_requires"></a>
    <strong>spell:learn_requires (possessor)</strong>
    </dt>
    <dd>
    Placeholder for the learn_requires() callback, used to determine if the creature meets the requirements for using the spell


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">possessor</span>
         Creature. The creature who's trying to use the spell.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true
    </ol>




</dd>
    <dt>
    <a name = "spell:get_target_tiles"></a>
    <strong>spell:get_target_tiles (possessor)</strong>
    </dt>
    <dd>
    Placeholder for the get_target_tiles() function


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">possessor</span>
         Creature. The creature who's trying to use the spell.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        true
    </ol>




</dd>
    <dt>
    <a name = "spell:has_tag"></a>
    <strong>spell:has_tag (tag)</strong>
    </dt>
    <dd>
    Checks if a spell has a descriptive tag.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tag</span>
         String. The tag to check for
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Boolean. Whether or not it has the tag.
    </ol>




</dd>
    <dt>
    <a name = "spell:get_stat"></a>
    <strong>spell:get_stat (stat, possessor)</strong>
    </dt>
    <dd>
    Get the stat for a spell


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stat</span>
         String. The stat to return
        </li>
        <li><span class="parameter">possessor</span>
         Creature. The creature to look at when determine the spell's stats
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Anything. Whatever the stat's value is (or false if not set)
    </ol>




</dd>
    <dt>
    <a name = "spell:get_possible_upgrades"></a>
    <strong>spell:get_possible_upgrades (use_requirements.)</strong>
    </dt>
    <dd>
    Gets the possible upgrades for a spell


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">use_requirements.</span>
         If true, only return upgrades that you meet the requirements for, otherwise return all upgrades that aren't maxed out
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Table. A table of the possible upgrades, with the format {upgradeID=upgradeLevel}
    </ol>




</dd>
    <dt>
    <a name = "spell:can_upgrade"></a>
    <strong>spell:can_upgrade (upgradeID, level)</strong>
    </dt>
    <dd>
    Determines whether you're able to perform an upgrade


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">upgradeID</span>
         String. The ID of the upgrade
        </li>
        <li><span class="parameter">level</span>
         Number. The level of the upgrade
        </li>
    </ul>





</dd>
    <dt>
    <a name = "spell:apply_upgrade"></a>
    <strong>spell:apply_upgrade (upgradeID, force)</strong>
    </dt>
    <dd>
    Applies an upgrade to a spell


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">upgradeID</span>
         String. The ID of the upgrade to apply
        </li>
        <li><span class="parameter">force</span>
         Boolean. If true, ignore upgrade requirements
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Boolean. Whether the upgrade was applied
    </ol>




</dd>
    <dt>
    <a name = "spell:get_potential_targets"></a>
    <strong>spell:get_potential_targets (caster, target_number)</strong>
    </dt>
    <dd>
    Gets potential targets of a spell.  Uses the spell's own get_potential_targets() function if it has one, or defaults to seen creatures if it doesn't and it's a creature-spell


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">caster</span>
         Creature. The caster of the spell
        </li>
        <li><span class="parameter">target_number</span>
         Number. Which target of the spell it is
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2023-08-04 10:22:03 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
